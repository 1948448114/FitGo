{% extends "header.html" %}
{% block header %}
    <link rel="stylesheet" href="{{static_url('css/discover.css') }}">
    <link rel="stylesheet" type="text/css" href="{{static_url('css/font-awesome.min.css') }}">
    <link rel="stylesheet" href="{{static_url('css/pfold.css') }}">
    <script src="{{static_url('js/discover.js') }}"></script>
    <script src="{{static_url('js/jquery.pfold.js') }}"></script>
    <script type="text/javascript">
    $(function() {
    // say we want to have only one item opened at one moment
    var opened = false;
    $( '#grid > div.uc-container' ).each( function( i ) {
    var $item = $( this ), direction;
    switch( i ) {
    case 0 :
    direction = ['right','bottom'];
    break;
    case 1 :
    direction = ['right','bottom'];
    break;
    case 2 :
    direction = ['left','bottom'];
    break;
    case 3 :
    direction = ['left','bottom'];
    break;
    case 4 :
    direction = ['top','right'];
    break;
    case 5 :
    direction = ['bottom','right'];
    break;
    case 6 :
    direction = ['top','left'];
    break;
    case 7 :
    direction = ['bottom','left'];
    break;
    case 8 :
    direction = ['right','top'];
    break;
    case 9 :
    direction = ['right','top'];
    break;
    case 10 :
    direction = ['left','top'];
    break;
    case 11 :
    direction = ['left','top'];
    break;
    }
    var pfold = $item.pfold( {
    folddirection : direction,
    speed : 300,
    onEndFolding : function() { opened = false; },
    // centered : true
    } );
    $item.find( 'span.icon-eye' ).on( 'click', function() {
    if( !opened ) {
    opened = true;
    pfold.unfold();
    }
    } ).end().find( 'span.icon-cancel' ).on( 'click', function() {
    pfold.fold();
    } );
    } );
    $("#share_btn").click(function(event) {
    /* Act on the event */
    $(".create_state").show('slow/400/fast');
    });

    $("#submit_state_btn").click(function(event) {
    /* Act on the event */
    $(".create_state").hide('slow/400/fast');
    });
    
    });
    </script>
{% end %}
{% block body %}
    <div class="container">
        <div class="discover_state">
            <div class="latest_state row">
                <div id="grid" class="grid clearfix">
                    {% for i in content %}
                        {% module discover_state(i) %}
                    {% end %}
                    
                </div>
            </div>
            <div class="title" >
                <div>
                    <p class="largetext">
                        Share your Health.
                        <button class="btn" id="share_btn">Share</button> your Happiness.
                    </p>
                </div>
            </div>

            <div class='row create_state' >
                <div class="col-sm-5 col-sm-offset-2">
                    <div class="row create_state">
                        <span class="create">Create your State:</span>
                        <div class="have_icon">
                            <span class="icon  icon-magic"></span>
                            <input type="text" class="form-control" id="create_state_title" placeholder="Say something in short...">
                        </div>
                        <div class="have_icon">
                            <span class="icon icon-edit"></span>
                            <textarea placeholder="Details" id="create_state_detail" class="form-control textareaMargin" rows="8"></textarea>
                        </div>
                    </div>
                </div>
                <div class="col-sm-5">
                    <div class="row">
                        <div class="col-sm-12" id="discover_png">
                            <img src="/static/images/discover/1.png">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-8 col-sm-offset-2">
                            
                            <button  type="submit" class="btn btn-default" id="submit_state_btn">Share</button>
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        
        {%end%}