{% extends "header.html" %}
{% block header %}
 <style type="text/css">
 #form_input{
    width: 70%;
    padding-top: 20px;
    padding-left: 500px;

 }
 #message{
    padding-top: 20px;
    text-align: center;
 }
 </style>
{% end %}

{% block body %}
<div id="message">

</div>
<div id="form_input">
<form action="/auth/login" method="POST" role="form">
    <div class="form-group" class="col-sm-10">
        <label for="info_email" >Email</label>
        <input type="text" class="form-control" id="info_email"
        placeholder="Info_Email">
    </div class="col-sm-10">
    <div class="form-group">
        <label for="user_password" >Password</label>
        <input type="password" class="form-control" id="user_password"
        placeholder="Password">
    </div>
    <div class="form-group" class="col-sm-10">
        <label for="code" >Code</label>
        <input type="text" class="form-control" id="code"
        placeholder="Code">
    </div>
    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
            <button type="submit" id="sub" class="btn btn-primary">LogIn</button>
        </div>
    </div>
</div>
</form>
<script>
    $(document).ready(function() {
       $("#sub").click(function(event) {
           /* Act on the event */
           jQuery.ajax({
             url: '/auth/logi',
             type: 'POST',
             dataType: 'json',
             data: {
                    info_email: $("#info_email").val(),
                    user_password:$("#user_password").val(),
                    code:$("#code").val()
                    },
             ,
             success: function(data, textStatus, xhr) {
                $("#message").append('<p class="text-success">登录成功</p>')
             },
             error: function(xhr, textStatus, errorThrown) {
              $("#message").append('<p class="text-warning">网络无法连接T_T</p>')
             }
           });
           
       }); 
    });
</script>
{% end %}

